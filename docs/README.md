audioMotion.js Documentation
============================

## Summary

**User interface**

* Configuration presets
* Settings
* File explorer and playlist
* Fullscreen mode and keyboard shortcuts
* Console

**Server modes**

* [Custom file server](server.md)
* [Using a standard web server](server.md#using-a-standard-web-server)
* [Standard web server with Docker](server.md#standard-web-server-with-docker)

**Building audioMotion**

* [Building the client](building.md#building-the-client)
* [Building binaries](building.md#building-binaries)

**Legacy**

* [Legacy playlists file](legacy.md)



## Configuration Presets

The **Full resolution**, **Octave bands** and **LED bars** presets adjust configuration options to recommended values for the discrete frequencies and octave bands visualization modes, with optional LED effect mode.

You can tweak any options and save a favorite configuration by clicking the **Save** button. You can later revert to this configuration by selecting the **Custom** preset.

Additionally, your last used configuration will be automatically saved and restored the next time you open audioMotion.
You can manually select the **Last session** preset to undo any changes made during the current session.

The **Restore defaults** preset resets all options to their initial values as in the first time you run audioMotion.


## Settings


You can also make audioMotion "listen" to your microphone, by selecting *Microphone* in the **AUDIO SOURCE** setting.
If your sound card supports *Stereo mix* mode, you should be able to select it as the input device when requested to allow access to your microphone.
The *Stereo mix* input allows audioMotion to receive audio generated by other programs running in your PC. Please note that the graphic visualization from this source might suffer a slight delay.



The **SHUFFLE** button will randomize the order of queued songs. **CLEAR** clears the current playlist.

The **Repeat** option, when active, will make the player loop back to the first song after playing the last song on the playlist.

You can then use the player controls to play, pause and skip through songs in the playlist. You can also click a song in the playlist to play it.


As for the audio files themselves, audioMotion.js should be able to play most mainstream formats, like mp3, ogg, m4a and flac, but codec support may vary, depending on your web browser and operating system.



![config-bar](docs/img/configuration-bar.png "Analyzer configuration options")

Below you'll find a brief description of each configuration option.

### Mode

Selects the visualization mode. *Discrete frequencies* allows you to visualize individual frequencies, limited only by the resolution of both the [FFT](https://en.wikipedia.org/wiki/Fast_Fourier_transform) and your display.
The *octave bands* modes will display wider bars, representing ranges of frequencies based on a [24-tone equal tempered scale](https://en.wikipedia.org/wiki/Quarter_tone).

You can also select the visualization mode using the **M** and **Shift + M** keyboard shortcuts.

### FFT Size

The number of samples used for the [FFT](https://en.wikipedia.org/wiki/Fast_Fourier_transform) performed by the analyzer. Larger values provide greater detail of lower frequencies, but require more CPU power.

### Range

The lowest and highest frequencies you want to see in the graphic spectrum analyzer. You can use this to zoom in a specific frequency range.

### Smoothing

Average constant used to smooth values between analysis frames. Lower values make the analyzer react faster to changes, and may look better with faster tempo songs. Increase it if the animation looks too "jumpy".

### Gradient

Several options of color gradients for the analyzer bars. You can change gradients with the **Up** and **Down** arrow keys, or alternatively, **G** and **Shift + G** keys.

### Switches (on / off)

+ **INFO** toggles the on-screen display of song information on every track change
+ **SCALE** toggles the display of the frequency scale on the X-axis; clicking the visualization area also toggles this option
+ **SENS** increases analyzer sensitivity to improve the visualization of songs too quiet
+ **PEAKS** shows volume peaks for each frequency

+ **NO BG** when active, sets a black background for the analyzer, instead of the color defined by each gradient (improves contrast)
+ **AUTO** when active, every track change will select the next gradient, cycling through the available options
+ **LED** applies a vintage LED effect to the analyzer bars

+ **FLAT** applies an outline instead of shadow on text displayed on canvas - may improve performance, depending on you graphic card and browser
+ **LO-RES** reduces canvas resolution to improve rendering speed (especially useful for 4K+ displays)

The underlined character in the switch label indicates its keyboard shortcut, when available.

## Fullscreen mode and keyboard shortcuts

Click the **Fullscreen Analyzer** button, or press the **F** key, to display the spectrum analyzer in fullscreen.

You can use the keyboard shortcuts below to control the player and change display settings without leaving fullscreen mode:

| keys | alternate | action |
|------|-----------|--------|
**Left** / **Right** arrows | **J** / **K** | play previous / next song
**Space** | | play / pause
**Up** / **Down** arrows | **Shift+G** / **G** | select previous / next gradient
**A** | | toggle auto gradient change
**B** | | toggle background
**D** | | display song info - press again for current settings
**F** | | toggle fullscreen mode
**I** | | toggle song info display on track change
**L** | | toggle LED effect on analyzer bars
**Shift+M** / **M** | | select previous / next visualization mode
**N** | | toggle analyzer sensitivity
**O** | | toggle low-resolution option
**P** | | toggle peaks display
**R** | | toggle playlist repeat
**S** | click on analyzer | toggle frequency scale display on/off
**T** | | toggle flat text option
**U** | | shuffle playlist


